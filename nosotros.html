<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario</title>
</head>


<body>
  
    <h1>Formulario de Contacto</h1>

    <div class="row">

        <div class="col-md-6">
            <form action="/procesar-formulario" method="post">
                <!-- Campo de texto para el nombre -->
                <label for="nombre">Nombre:</label>
                <input type="text" id="nombre" name="nombre" required>
        
                <!-- Campo de correo electrónico -->
                <label for="correo">Correo electrónico:</label>
                <input type="email" id="correo" name="correo" required>
            </form>
        </div>
    </div>
    <div class="row">
        <div class="col-md-6">
            <form action="procesar_formulario" method="post">
                <!-- Campo de selección (dropdown) para la opción de motivo de contacto -->
                <label for="motivo">Motivo de contacto:</label>
                <select id="motivo" name="motivo">
                    <option value="consulta">Consulta</option>
                    <option value="comentario">Comentario</option>
                    <option value="sugerencia">Sugerencia</option>
                </select>
                        <!-- Área de texto para el mensaje -->
                <label for="mensaje">Mensaje:</label>
                <textarea id="mensaje" name="mensaje" rows="4" required></textarea>
            </form>
        </div>
    </div>

   <div class="row">
    <div class="col-md-6">
           <!-- Botón de envío -->
        
           <button type="button" onclick="crearRegistro()">ENVIAR</button>
    </div>
   </div>
     
   <br><br>
   <h1>LISTA DE COMENTARIOS</h1>
   <table class="table table-borderred" id="tbl_product">
    <thead>
      <tr>
        <th>ID</th>
        <th>NAME</th>
        <th>CORREO</th>
        <th>CONSULTA</th>
        <th>MENSAJE</th>
        <th>ACCIÓN</th>
      </tr>
    </thead>
    <!-- <tbody>
        <?php foreach ($productList as $p): ?>
          <tr>
            <td><?php echo $p->nombre ?></td>
            <td><?php echo $p->correo ?></td>
            <td><?php echo $p->consulta?></td>
            <td><?php echo $p->mensaje?></td>
        </tr>
        <?php endforeach; ?> -->
    </tbody>

         <!--conexxion con firebase -->
         <script type="module">
             // Import the functions you need from the SDKs you need
            import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js";
            import { getDatabase, ref, push, onValue, remove } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-database.js";
            // TODO: Add SDKs for Firebase products that you want to use
            // https://firebase.google.com/docs/web/setup#available-libraries
  
             // Your web app's Firebase configuration
                const firebaseConfig = {
                apiKey: "AIzaSyBMJsVpnbOwVOiVNbTZScZdet9qlGigDL0",
                authDomain: "conexion-8ec0d.firebaseapp.com",
                databaseURL: "https://conexion-8ec0d-default-rtdb.firebaseio.com",
                projectId: "conexion-8ec0d",
                storageBucket: "conexion-8ec0d.appspot.com",
                messagingSenderId: "679910299749",
                appId: "1:679910299749:web:9800b464879628b4850e8c"
                };
  
             // Initialize Firebase
                const app = initializeApp(firebaseConfig);
                const database = getDatabase(app);
                
        
    window.crearRegistro= function() {
        const nombre=document.getElementById("nombre").value;
        const correo=document.getElementById("correo").value;
        const motivo=document.getElementById("motivo").value;
        const mensaje=document.getElementById("mensaje").value;
        console.log(nombre, correo, motivo, mensaje);
        push(
                    ref(database, 'Lasluisa'),
                    {
                        name: nombre,
                        correos: correo,
                        motivos: motivo,
                        mensajes: mensaje
                    }
                );


      }
    </script>
</body>
</html>
